{"ast":null,"code":"var _jsxFileName = \"/Users/lambdajohn/web30/JS-FrontEnd-by-jheinz1999/src/components/Login.js\";\nimport React from 'react';\n\nconst axios = require('axios');\n\nconst oauth = require('axios-oauth-client');\n\nexport default class Login extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      username: '',\n      password: ''\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      axios.post('http://localhost:2019/login', `grant_type=password&username=${this.state.username}&password=${this.state.password}`, {\n        headers: {\n          // btoa is converting our client id/client secret into base64\n          Authorization: `Basic ${btoa('lambda-client:lambda-secret')}`,\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }).then(res => {\n        localStorage.setItem('token', res.data.access_token);\n        this.props.history.push('/users');\n      }).catch(err => console.dir(err));\n      e.preventDefault();\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      value: this.state.username,\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      value: this.state.password,\n      onChange: this.handleChange,\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }\n    }, \"Submit\"));\n  }\n\n}","map":{"version":3,"sources":["/Users/lambdajohn/web30/JS-FrontEnd-by-jheinz1999/src/components/Login.js"],"names":["React","axios","require","oauth","Login","Component","constructor","state","username","password","handleChange","e","setState","target","name","value","handleSubmit","post","headers","Authorization","btoa","then","res","localStorage","setItem","data","access_token","props","history","push","catch","err","console","dir","preventDefault","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AACA,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMC,KAAK,GAAGD,OAAO,CAAC,oBAAD,CAArB;;AAEA,eAAe,MAAME,KAAN,SAAoBJ,KAAK,CAACK,SAA1B,CAAoC;AASjDC,EAAAA,WAAW,GAAG;AAEZ;AAFY,SAPdC,KAOc,GAPN;AAENC,MAAAA,QAAQ,EAAE,EAFJ;AAGNC,MAAAA,QAAQ,EAAE;AAHJ,KAOM;;AAAA,SAMdC,YANc,GAMCC,CAAC,IAAI;AAElB,WAAKC,QAAL,CAAc;AACZ,SAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASE;AADd,OAAd;AAID,KAZa;;AAAA,SAcdC,YAdc,GAcCL,CAAC,IAAI;AAElBV,MAAAA,KAAK,CAACgB,IAAN,CAAW,6BAAX,EAA2C,gCAA+B,KAAKV,KAAL,CAAWC,QAAS,aAAY,KAAKD,KAAL,CAAWE,QAAS,EAA9H,EAAiI;AAE/HS,QAAAA,OAAO,EAAE;AAEP;AACAC,UAAAA,aAAa,EAAG,SAAQC,IAAI,CAAC,6BAAD,CAAgC,EAHrD;AAIP,0BAAgB;AAJT;AAFsH,OAAjI,EAWGC,IAXH,CAWQC,GAAG,IAAI;AAEXC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BF,GAAG,CAACG,IAAJ,CAASC,YAAvC;AACA,aAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AAED,OAhBH,EAiBGC,KAjBH,CAiBSC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAjBhB;AAmBApB,MAAAA,CAAC,CAACuB,cAAF;AAED,KArCa;AAIb;;AAmCDC,EAAAA,MAAM,GAAG;AAEP,wBAEE;AAAM,MAAA,QAAQ,EAAE,KAAKnB,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,UAAxB;AAAmC,MAAA,KAAK,EAAE,KAAKT,KAAL,CAAWC,QAArD;AAA+D,MAAA,QAAQ,EAAE,KAAKE,YAA9E;AAA4F,MAAA,QAAQ,MAApG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,IAAI,EAAC,UAA5B;AAAuC,MAAA,KAAK,EAAE,KAAKH,KAAL,CAAWE,QAAzD;AAAmE,MAAA,QAAQ,EAAE,KAAKC,YAAlF;AAAgG,MAAA,QAAQ,MAAxG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF,CAFF;AAYD;;AA9DgD","sourcesContent":["import React from 'react';\nconst axios = require('axios');\nconst oauth = require('axios-oauth-client');\n\nexport default class Login extends React.Component {\n\n  state = {\n\n    username: '',\n    password: ''\n\n  }\n\n  constructor() {\n\n    super();\n\n  }\n\n  handleChange = e => {\n\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n\n  }\n\n  handleSubmit = e => {\n\n    axios.post('http://localhost:2019/login', `grant_type=password&username=${this.state.username}&password=${this.state.password}`, {\n\n      headers: {\n\n        // btoa is converting our client id/client secret into base64\n        Authorization: `Basic ${btoa('lambda-client:lambda-secret')}`,\n        'Content-Type': 'application/x-www-form-urlencoded'\n\n      }\n\n    })\n      .then(res => {\n\n        localStorage.setItem('token', res.data.access_token);\n        this.props.history.push('/users');\n\n      })\n      .catch(err => console.dir(err));\n\n    e.preventDefault();\n\n  }\n\n  render() {\n\n    return (\n\n      <form onSubmit={this.handleSubmit}>\n\n        <input type=\"text\" name=\"username\" value={this.state.username} onChange={this.handleChange} required />\n        <input type=\"password\" name=\"password\" value={this.state.password} onChange={this.handleChange} required />\n        <button>Submit</button>\n\n      </form>\n\n    );\n\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}